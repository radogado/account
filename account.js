(function() {
	window.text = {
		'en': {
			"dashboard": "Dashboard",
			"deposit": "Deposit",
			"button-long-text": "Item as button with long text",
			"active-button": "Active button",
			"withdraw": "Withdraw",
			"prepaid-card": "Prepaid card",
			"promotions": "Promotions",
			"transactions": "Transactions",
			"exchange": "Exchange",
			"account-statement": "Get an account statement",
			"settings": "Settings",
			"faq": "FAQ",
			"help-centre": "Help centre",
			"contact-us": "Contact us",
			"loyalty-points": "Loyalty points",
			"main-balance": "Main balance",
			"profile-level": "Beginner level",
			"logout": "Logout",
			"fees": "Fees",
			"support": "Support",
			"terms-conditions": "Terms & conditions",
			"privacy-policy": "Privacy policy",
			"api": "API",
			"modern-slavery-act": "Modern slavery act transparency statement",
			"cookies-notics": "Cookies notice",
			"careerws": "Careers",
			"my-prepaid-card": "My prepaid card",
			"affiliates": "Affiliates",
			"money-laundering": "Money laundering",
			"ecommerce": "eCommerce",
			"consumer-protection": "Consumer protection",
			"account-overview": "Account overview",
			"skip-link": "Skip to main content",
			"text-paragraph": "Text paragraph with a",
			"demo-link": "demo link",
			"toggle-rtl": "Toggle RTL",
			"theme": "Theme",
			"blue": "Blue",
			"purple": "Purple",
			"green": "Green",
			"footer": "This agreement contains 29 sections. You may go directly to any section by selecting the appropriate link provided. The headings are for reference only. Some capitalised terms have specific definitions in section 3. Underlined words in this agreement contain hyperlinks to further information. For \"money transfer\" transactions, this agreement applies individually to each transaction and is not a framework contract. Additionally, when paying for a money transfer transaction in a currency other than the great britain pound (GBP), you may be doing business with a different entity. In those cases, your money will be held in accordance with the regulations and licenses applicable to such entity."
		},
		'fr': {
			"dashboard": "Tableau de bord",
			"deposit": "Verser",
			"button-long-text": "Élément sous forme de bouton avec texte long",
			"active-button": "Bouton actif",
			"withdraw": "Retirer",
			"prepaid-card": "Carte prépayée",
			"promotions": "Promotions",
			"transactions": "Transactions",
			"exchange": "Échanger",
			"account-statement": "Obtenir un relevé de compte",
			"settings": "Réglages",
			"faq": "FAQ",
			"help-centre": "Centre d'aide",
			"contact-us": "Contactez-nous",
			"loyalty-points": "Points de fidélité",
			"main-balance": "Moyenne principale",
			"profile-level": "Niveau DEBUTANT",
			"logout": "Se déconnecter",
			"fees": "Frais",
			"support": "Soutien",
			"terms-conditions": "Termes et conditions",
			"privacy-policy": "Politique de confidentialité",
			"api": "API",
			"modern-slavery-act": "Déclaration de transparence de la loi sur l'esclavage moderne",
			"cookies-notics": "Avis sur les cookies",
			"careerws": "Carrières",
			"my-prepaid-card": "Ma carte prépayée",
			"affiliates": "Affiliés",
			"money-laundering": "Blanchiment d'argent",
			"ecommerce": "Commerce électronique",
			"consumer-protection": "La protection des consommateurs",
			"account-overview": "Aperçu du compte",
			"skip-link": "Passer au contenu principal",
			"text-paragraph": "Paragraphe de texte avec un",
			"demo-link": "lien de démonstration",
			"toggle-rtl": "Basculer RTL",
			"theme": "Thème",
			"blue": "Bleu",
			"purple": "Violet",
			"green": "Vert",
			"footer": "Cet accord contient 29 sections. Vous pouvez accéder directement à n'importe quelle section en sélectionnant le lien approprié fourni. Les titres sont à titre indicatif seulement. Certains termes en majuscules ont des définitions spécifiques dans la section 3. Les mots soulignés dans cet accord contiennent des hyperliens vers des informations supplémentaires. Pour les opérations de \"transfert d'argent\", cet accord s'applique individuellement à chaque opération et n'est pas un contrat-cadre. De plus, lorsque vous payez pour une transaction de transfert d'argent dans une devise autre que la livre britannique (GBP), vous pouvez faire affaire avec une entité différente. Dans ces cas, votre argent sera détenu conformément aux réglementations et licences applicables à cette entité."
		},
		'ar': {
			"dashboard": "لوحة القيادة",
			"deposit": "إيداع",
			"button-long-text": "عنصر كزر مع نص طويل",
			"active-button": "زر نشط",
			"withdraw": "ينسحب",
			"prepaid-card": "بطاقة مسبقة الدفع",
			"promotions": "الترقيات",
			"transactions": "Transactions",
			"exchange": "تبادل",
			"account-statement": "احصل على كشف حساب",
			"settings": "إعدادات",
			"faq": "التعليمات",
			"help-centre": "مركز المساعدة",
			"contact-us": "اتصل بنا",
			"loyalty-points": "نقاط الولاء",
			"main-balance": "الرصيد، الحساب الرئيسي",
			"profile-level": "مستوى مبتدئ",
			"logout": "تسجيل خروج",
			"fees": "مصاريف",
			"support": "الدعم",
			"terms-conditions": "البنود و الظروف",
			"privacy-policy": "سياسة الخصوصية",
			"api": "API",
			"modern-slavery-act": "بيان شفافية قانون العبودية الحديث",
			"cookies-notics": "إشعار ملفات تعريف الارتباط",
			"careerws": "وظائف",
			"my-prepaid-card": "بطاقتي مسبقة الدفع",
			"affiliates": "الشركات التابعة",
			"money-laundering": "غسيل أموال",
			"ecommerce": "التجارة الإلكترونية",
			"consumer-protection": "حماية المستهلك",
			"account-overview": "نظرة عامة على الحساب",
			"skip-link": "تخطي إلى المحتوى الرئيسي",
			"text-paragraph": "فقرة نصية بامتداد",
			"demo-link": "رابط تجريبي",
			"toggle-rtl": "تبديل من اليمين إلى اليسار",
			"theme": "سمة",
			"blue": "أزرق",
			"purple": "أرجواني",
			"green": "لون أخضر",
			"footer": "تحتوي هذه الاتفاقية على 29 قسمًا. يمكنك الذهاب مباشرة إلى أي قسم عن طريق اختيار الرابط المناسب المقدم. العناوين هي للإشارة فقط. تحتوي بعض المصطلحات المكتوبة بحروف كبيرة على تعريفات محددة في القسم 3. تحتوي الكلمات التي تحتها خط في هذه الاتفاقية على ارتباطات تشعبية لمزيد من المعلومات. بالنسبة إلى معاملات تحويل الأموال ، تنطبق هذه الاتفاقية بشكل فردي على كل معاملة وليست عقدًا إطاريًا. بالإضافة إلى ذلك ، عند الدفع مقابل معاملة تحويل الأموال بعملة أخرى غير الجنيه الإسترليني (GBP) ، قد تقوم بأعمال تجارية مع كيان مختلف. في هذه الحالات ، سيتم الاحتفاظ بأموالك وفقًا للوائح والتراخيص المطبقة على هذا الكيان."
		}
	};
	
	const init = () => {
		// Buttons ripple effect
		const ripple = e => {
			let el = e.target.closest('li') || e.target.closest('.btn');
			let x = e.clientX ? (e.clientX - el.offsetLeft) : el.clientWidth / 2;
			let y = e.clientY ? (e.clientY - el.offsetTop) : el.clientHeight / 2;
			let max_x = Math.max(x, el.clientWidth - x);
			let max_y = Math.max(y, el.clientHeight - y);
			let radius = Math.sqrt(max_x * max_x + max_y * max_y);
			// console.log(e.clientX - el.offsetLeft, e.clientY - el.offsetTop);
			el.style.transitionProperty = 'none';
			el.style.setProperty('--ripple-x', `${x}px`);
			el.style.setProperty('--ripple-y', `${y}px`);
			el.style.setProperty('--ripple-radius', `0px`);
			window.requestAnimationFrame(() => {
				el.style.transitionProperty = '';
				el.style.setProperty('--ripple-radius', `${radius}px`);
				// console.log(x, y, radius * 2);
			});
		}
		document.querySelectorAll('.btn, aside nav li').forEach(el => {
			el.addEventListener('pointerdown', ripple);
			el.addEventListener('keydown', ripple);
		});
		// Mobile/Desktop menu switching enhancement
		document.querySelector('#mobile-menu-trigger')?.addEventListener('change', e => {
			let main = document.querySelector('main');
			if (main) {
				if (e.target.checked) {
					main.inert = true;
				} else {
					main.inert = false;
				}
			}
		});
		document.querySelector('aside input[type="reset"]')?.addEventListener('click', e => {
			document.querySelector('main')?.removeAttribute('inert');
		});
		window.addEventListener('resize', e => {
			let toggle = document.querySelector('#mobile-menu-trigger');
			if (toggle && !toggle.clientWidth) { // Switching to desktop while mobile menu is closed
				document.querySelector('main')?.removeAttribute('inert');
				toggle.checked = false;
				let nav = document.querySelector('aside nav');
				nav.style.transition = 'none';
				setTimeout(() => {
					nav.style.transition = '';
				}, 1);
			}
			let logo = document.querySelector('aside .logo');
			logo.style.transition = 'none';
			setTimeout(() => {
				logo.style.transition = '';
			}, 1);
		}, { passive: true });
		document.querySelector('.account')?.setAttribute('data-ready', true);
	};
	if (document.readyState !== "loading") {
		init();
	} else {
		document.addEventListener("DOMContentLoaded", init);
	}
})();